"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[184],{9769:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var r=n(2791),a=n(9434),c=n(4270),u=n(5861),s=n(7757),i=n.n(s),o=n(6382),l=n(1243);l.Z.defaults.baseURL="https://63efccf1c59531ccf1772da6.mockapi.io";(0,o.hg)("contacts/fetchAll",function(){var e=(0,u.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.get("/contacts");case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}());var d,p,f=(0,o.hg)("contacts/addContact",function(){var e=(0,u.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.post("/contacts",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),m=(0,o.hg)("contacts/deleteContact",function(){var e=(0,u.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.delete("/contacts/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),h=n(184),v=function(e){var t=e.id,n=e.name,r=e.number,c=(0,a.I0)();return(0,h.jsxs)("li",{children:[n,": ",r," ",(0,h.jsx)("button",{type:"button",id:t,onClick:function(e){c(m(e.target.id))},children:"Delete"})]})},x=function(e){return e.contacts},b=function(e){return e.filter},j=function(){var e=(0,a.v9)(x),t=(0,a.v9)(b);return(0,h.jsx)("ul",{children:function(e){return e.contacts.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}(e).map((function(e){var t=e.id,n=e.name,r=e.number;return(0,h.jsx)(v,{id:t,name:n,number:r},t)}))})},g=n(168),Z=n(6444),w=Z.ZP.form(d||(d=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n  border: 1px solid black;\n  padding: 20px;\n  margin: 0;\n"]))),k=Z.ZP.p(p||(p=(0,g.Z)(["\n  margin: 0;\n"]))),y=function(){var e=(0,a.I0)(),t=(0,a.v9)(x);return(0,h.jsxs)(w,{onSubmit:function(n){n.preventDefault();var r=n.target;t.contacts.find((function(e){return e.name===r.elements.name.value}))?alert("".concat(r.elements.name.value," is already in contacts.")):(e(f({name:r.elements.name.value,number:r.elements.number.value})),r.reset())},autoComplete:"off",children:[(0,h.jsx)(k,{children:"Name"}),(0,h.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,h.jsx)(k,{children:"Number"}),(0,h.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,h.jsx)("button",{type:"submit",children:"Add contact"})]})},C=n(3634),A=function(e){return e.contacts.loading};function q(){var e=(0,a.I0)(),t=(0,a.v9)(A);return(0,r.useEffect)((function(){e((0,C.yF)())}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.q,{children:(0,h.jsx)("title",{children:"Your contacts"})}),(0,h.jsx)(y,{}),(0,h.jsx)("div",{children:t&&"Request in progress..."}),(0,h.jsx)(j,{})]})}}}]);
//# sourceMappingURL=184.f7127232.chunk.js.map